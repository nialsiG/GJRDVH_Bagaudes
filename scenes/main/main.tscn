[gd_scene load_steps=53 format=3 uid="uid://bk7rklt41thfd"]

[ext_resource type="Script" uid="uid://crx700gi0scwg" path="res://scenes/main/main.gd" id="1_hyk8p"]
[ext_resource type="Script" uid="uid://4qi8nq22sbyk" path="res://scenes/events/event_manager.gd" id="2_b1x3f"]
[ext_resource type="Script" uid="uid://dvg5o1r6lcdk1" path="res://scenes/music/music_manager.gd" id="2_iuonh"]
[ext_resource type="PackedScene" uid="uid://lm3epfr78djn" path="res://scenes/District/district.tscn" id="3_k2fmo"]
[ext_resource type="Script" uid="uid://c8r0muwy0kraw" path="res://scenes/events/event_screen.gd" id="4_6q06x"]
[ext_resource type="Script" uid="uid://bnmy8nr103np7" path="res://resources/events/event_resource.gd" id="5_hujxm"]
[ext_resource type="Resource" uid="uid://qle2n3ixf4mh" path="res://resources/events/rue_imperiale.tres" id="5_i7in8"]
[ext_resource type="Script" uid="uid://bl24mserlgric" path="res://scenes/music/sound_manager.gd" id="6_62atk"]
[ext_resource type="Texture2D" uid="uid://3m8yv0tuy7wo" path="res://assets/sprites/1e_ebauchecarte.png" id="6_blune"]
[ext_resource type="Resource" uid="uid://b8p0m71h3q38l" path="res://resources/events/soccuper_des_fous.tres" id="6_r1bmu"]
[ext_resource type="Resource" uid="uid://c5bcsxc0tal8q" path="res://resources/events/event_test.tres" id="6_yyfjg"]
[ext_resource type="Resource" uid="uid://b8ejf4qu0eykj" path="res://resources/events/eloignement_des_abbatoirs.tres" id="7_6w6mm"]
[ext_resource type="Texture2D" uid="uid://tmaj66ugmk57" path="res://assets/sprites/riviere_campagne.png" id="7_hxu8e"]
[ext_resource type="Resource" uid="uid://cpqph0gnweck2" path="res://resources/events/creer_un_parc.tres" id="8_os81g"]
[ext_resource type="Texture2D" uid="uid://bt86ld0x4a3uq" path="res://assets/sprites/croixrousse.png" id="8_th5th"]
[ext_resource type="Script" uid="uid://c6olv104gjcfm" path="res://scenes/main/year_counter.gd" id="8_yyfjg"]
[ext_resource type="Resource" uid="uid://bbbmqpyteds14" path="res://resources/events/division_de_la_ville.tres" id="9_1k3ck"]
[ext_resource type="Texture2D" uid="uid://cr1wde06qd4tg" path="res://assets/icones/button choix.png" id="9_ouso4"]
[ext_resource type="Texture2D" uid="uid://5vr63k281d11" path="res://assets/sprites/guillotiere.png" id="9_raeie"]
[ext_resource type="Resource" uid="uid://dt0h3n2s83yob" path="res://resources/events/trouver_des_fonds.tres" id="10_62f45"]
[ext_resource type="Texture2D" uid="uid://8o1lfr6nnrhr" path="res://assets/sprites/Brotteaux.png" id="10_hxu8e"]
[ext_resource type="Resource" uid="uid://btvbgskc7xvyt" path="res://resources/events/revolte_des_canuts.tres" id="11_6g32y"]
[ext_resource type="Texture2D" uid="uid://d7vgdntk84ui" path="res://assets/sprites/presquile.png" id="11_nvumn"]
[ext_resource type="Texture2D" uid="uid://dyrfohag10b07" path="res://scenes/main/defaite.png" id="11_ouso4"]
[ext_resource type="Resource" uid="uid://dn378h12aslsf" path="res://resources/events/morgue_flottante.tres" id="12_6w6mm"]
[ext_resource type="Script" uid="uid://d4devl1s68j4y" path="res://scenes/main/pandemic_ending_screen.gd" id="12_blune"]
[ext_resource type="Resource" uid="uid://trd6eh0j0c6g" path="res://resources/events/revoltes_des_couvents.tres" id="13_os81g"]
[ext_resource type="Texture2D" uid="uid://deeaa5ttqhg8n" path="res://assets/icones/barre progression base.png" id="13_pg34l"]
[ext_resource type="Resource" uid="uid://bdvmhu0idtoa3" path="res://resources/events/bureau_d_hygiene.tres" id="14_1k3ck"]
[ext_resource type="Texture2D" uid="uid://j04yf6kf7dvu" path="res://assets/icones/barre progression remplie.png" id="14_m4h2d"]
[ext_resource type="Resource" uid="uid://fo8novgqncve" path="res://resources/events/eau_courante.tres" id="15_62f45"]
[ext_resource type="Texture2D" uid="uid://c07q7mk70nxxx" path="res://assets/icones/sablier.png" id="15_p8abn"]
[ext_resource type="Resource" uid="uid://bw2jujjc18lji" path="res://resources/events/pauvrete.tres" id="16_6g32y"]
[ext_resource type="Resource" uid="uid://d64l33tmdxu3" path="res://resources/events/regles_de_nettoyage.tres" id="17_5nwjq"]
[ext_resource type="Texture2D" uid="uid://crepm7tu52ofi" path="res://assets/icones/ui window.png" id="17_m4h2d"]
[ext_resource type="Resource" uid="uid://botaebyd6o1ov" path="res://resources/events/usines.tres" id="18_g2upo"]
[ext_resource type="LabelSettings" uid="uid://6ar31ctqkd00" path="res://resources/labels/event_name_label.tres" id="18_p8abn"]
[ext_resource type="Resource" uid="uid://dydiamepsym2b" path="res://resources/events/reverberes.tres" id="19_38d3o"]
[ext_resource type="LabelSettings" uid="uid://dkx4kwhpvio3m" path="res://resources/labels/event_text_label.tres" id="19_s17dp"]
[ext_resource type="Resource" uid="uid://dvnh5kd78q1rx" path="res://resources/events/retour_des_canuts.tres" id="20_i6fjx"]
[ext_resource type="Texture2D" uid="uid://cw24xy3kw3ti8" path="res://assets/icones/icon social 2.png" id="20_s17dp"]
[ext_resource type="Resource" uid="uid://d1dvrnp2nsn4n" path="res://resources/events/crue_du_rhone_saone.tres" id="21_7dg2i"]
[ext_resource type="Resource" uid="uid://w215wbjxo3s5" path="res://resources/events/gentrification.tres" id="22_08tbl"]
[ext_resource type="Texture2D" uid="uid://dfpuin5devrla" path="res://assets/sprites/menu sans titre.png" id="22_37hlw"]
[ext_resource type="Texture2D" uid="uid://cp3snlimnx8of" path="res://assets/icones/titre 2.png" id="23_6llfj"]
[ext_resource type="Theme" uid="uid://ywumn8s5bsps" path="res://resources/buttons/menu_button_theme.tres" id="24_0bhws"]
[ext_resource type="Texture2D" uid="uid://cmvmtbkh4ow0" path="res://assets/sprites/defaite revolte.png" id="27_gkmcc"]
[ext_resource type="Script" uid="uid://co7o2oe1e5n86" path="res://scenes/main/insurection_ending_screen.gd" id="28_7nlll"]
[ext_resource type="Texture2D" uid="uid://bgm4vbqllarub" path="res://assets/sprites/victoire.png" id="29_ii537"]
[ext_resource type="Script" uid="uid://n7b11n21rui6" path="res://scenes/main/title_screen.gd" id="47_jucdw"]
[ext_resource type="Texture2D" uid="uid://d2asy54qhpvek" path="res://assets/icones/ecran credit.png" id="50_6miv3"]
[ext_resource type="LabelSettings" uid="uid://8d8cwd8bgy3c" path="res://resources/labels/menu_text_label.tres" id="51_yisfj"]

[node name="Main" type="Node"]
script = ExtResource("1_hyk8p")
final_year = 1850

[node name="EventManager" type="Node" parent="."]
script = ExtResource("2_b1x3f")
initial_events = Array[ExtResource("5_hujxm")]([ExtResource("5_i7in8"), ExtResource("6_r1bmu"), ExtResource("7_6w6mm"), ExtResource("8_os81g"), ExtResource("9_1k3ck"), ExtResource("10_62f45"), ExtResource("11_6g32y"), ExtResource("12_6w6mm"), ExtResource("13_os81g"), ExtResource("14_1k3ck"), ExtResource("15_62f45"), ExtResource("16_6g32y"), ExtResource("17_5nwjq"), ExtResource("18_g2upo"), ExtResource("19_38d3o"), ExtResource("20_i6fjx"), ExtResource("21_7dg2i"), ExtResource("22_08tbl")])

[node name="MusicManager" type="Node" parent="."]
script = ExtResource("2_iuonh")
title_music = "uid://cdxkto4ejkq0e"
title_music_with_intro = "uid://deoboabn4u07g"
main_music = "uid://dklfhxlhfa0p7"
main_music_with_intro = "uid://xb60a3jbrcn5"

[node name="AudioStreamPlayer" type="AudioStreamPlayer" parent="MusicManager"]
volume_db = -10.0

[node name="SoundManager" type="Node" parent="."]
script = ExtResource("6_62atk")
angry_crowd_1 = "uid://ckpwjdwundxu1"
cough_1 = "uid://dx7mxv4m2m08q"
cough_2 = "uid://b6anutay5j6a8"
popup_1 = "uid://2fm1rv5gqlyu"
popup_2 = "uid://5i3jqxhy5ixc"
click_validate = "uid://bo0ysmjr5dy8r"
ui_selection_ingame = "uid://c61lj0yqjbb35"
ui_selection_titlescreen = "uid://brr4nv85bl0fa"

[node name="AudioStreamPlayer" type="AudioStreamPlayer" parent="SoundManager"]
volume_db = -10.0

[node name="Environment" type="Node2D" parent="."]

[node name="BGSprite2D" type="Sprite2D" parent="Environment"]
position = Vector2(960, 540)
texture = ExtResource("6_blune")

[node name="RiverSprite2D" type="Sprite2D" parent="Environment"]
position = Vector2(960, 540)
texture = ExtResource("7_hxu8e")

[node name="District1" parent="Environment" instance=ExtResource("3_k2fmo")]
unique_name_in_owner = true
district_color = Color(0.84, 0.3024, 0.46368012, 0.3137255)
district_color_on_hover = Color(0.84, 0.3024, 0.46368012, 0.7058824)

[node name="Sprite2D" parent="Environment/District1" index="0"]
modulate = Color(1, 0.39, 0.39, 1)
position = Vector2(960, 540)
texture = ExtResource("8_th5th")

[node name="CollisionPolygon2D" parent="Environment/District1/Area2D" index="0"]
polygon = PackedVector2Array(1349, 1, 1469, 140, 1417, 460, 1289, 531, 1651, 641, 1919, 817, 1918, -3)

[node name="Label" parent="Environment/District1" index="2"]
offset_left = 1477.0
offset_top = 242.0
offset_right = 1894.0
offset_bottom = 323.0
text = "Croix-Rousse"

[node name="HealthBar" parent="Environment/District1" index="3"]
offset_left = 1535.0
offset_top = 316.0
offset_right = 1815.0
offset_bottom = 378.0

[node name="SpawnPosition1" parent="Environment/District1/SpawnPositions" index="0"]
position = Vector2(1567, 139)

[node name="SpawnPosition2" parent="Environment/District1/SpawnPositions" index="1"]
position = Vector2(1745, 184)

[node name="SpawnPosition3" parent="Environment/District1/SpawnPositions" index="2"]
position = Vector2(1611, 462)

[node name="District2" parent="Environment" instance=ExtResource("3_k2fmo")]
unique_name_in_owner = true
district_type = 1
district_color = Color(0.81, 0.6264, 0.2592, 0.3137255)
district_color_on_hover = Color(0.81, 0.6264, 0.2592, 0.7058824)

[node name="Sprite2D" parent="Environment/District2" index="0"]
modulate = Color(0.35000002, 1, 0.45833325, 1)
position = Vector2(960, 540)
texture = ExtResource("9_raeie")

[node name="CollisionPolygon2D" parent="Environment/District2/Area2D" index="0"]
polygon = PackedVector2Array(-1, 405, 687, 608, 863, 608, 832, 1080, -4, 1080)

[node name="Label" parent="Environment/District2" index="2"]
offset_left = 201.0
offset_top = 713.0
offset_right = 618.0
offset_bottom = 794.0
text = "Guillotière"

[node name="HealthBar" parent="Environment/District2" index="3"]
offset_left = 276.0
offset_top = 790.0
offset_right = 556.0
offset_bottom = 852.0

[node name="SpawnPosition1" parent="Environment/District2/SpawnPositions" index="0"]
position = Vector2(229, 652)

[node name="SpawnPosition2" parent="Environment/District2/SpawnPositions" index="1"]
position = Vector2(478, 695)

[node name="SpawnPosition3" parent="Environment/District2/SpawnPositions" index="2"]
position = Vector2(502, 930)

[node name="District3" parent="Environment" instance=ExtResource("3_k2fmo")]
unique_name_in_owner = true
district_type = 2
district_color = Color(0.3555, 0.79, 0.51481664, 0.3137255)
district_color_on_hover = Color(0.3555, 0.79, 0.51481664, 0.7058824)

[node name="Sprite2D" parent="Environment/District3" index="0"]
modulate = Color(1, 0.6085, 0.19, 1)
position = Vector2(960, 540)
texture = ExtResource("10_hxu8e")

[node name="CollisionPolygon2D" parent="Environment/District3/Area2D" index="0"]
polygon = PackedVector2Array(863, 612, 835, 1078, 1213, 1077, 1291, 976, 1338, 847, 1454, 755, 1498, 674, 1336, 617)

[node name="Label" parent="Environment/District3" index="2"]
offset_left = 909.0
offset_top = 708.0
offset_right = 1326.0
offset_bottom = 789.0
text = "Les Brotteaux"

[node name="HealthBar" parent="Environment/District3" index="3"]
offset_left = 961.0
offset_top = 790.0
offset_right = 1241.0
offset_bottom = 852.0

[node name="SpawnPosition1" parent="Environment/District3/SpawnPositions" index="0"]
position = Vector2(989, 705)

[node name="SpawnPosition2" parent="Environment/District3/SpawnPositions" index="1"]
position = Vector2(1314, 752)

[node name="SpawnPosition3" parent="Environment/District3/SpawnPositions" index="2"]
position = Vector2(1052, 924)

[node name="District4" parent="Environment" instance=ExtResource("3_k2fmo")]
unique_name_in_owner = true
district_type = 3
district_color = Color(0.23799998, 0.49300006, 0.85, 0.3137255)
district_color_on_hover = Color(0.23799998, 0.49300006, 0.85, 0.7058824)

[node name="Sprite2D" parent="Environment/District4" index="0"]
modulate = Color(0.47000003, 0.57600003, 1, 1)
position = Vector2(960, 540)
texture = ExtResource("11_nvumn")

[node name="CollisionPolygon2D" parent="Environment/District4/Area2D" index="0"]
polygon = PackedVector2Array(131, 0, 149, 32, 397, 156, 667, 276, 908, 329, 1052, 308, 1116, 249, 1112, 122, 1076, -4, 1344, 0, 1462, 138, 1414, 463, 1205, 536, 737, 538, 407, 450, -1, 272, -1, 0)

[node name="Label" parent="Environment/District4" index="2"]
offset_left = 819.0
offset_top = 372.0
offset_right = 1236.0
offset_bottom = 453.0
text = "Presqu'île"

[node name="HealthBar" parent="Environment/District4" index="3"]
offset_left = 894.0
offset_top = 442.0
offset_right = 1174.0
offset_bottom = 504.0

[node name="SpawnPosition1" parent="Environment/District4/SpawnPositions" index="0"]
position = Vector2(188, 277)

[node name="SpawnPosition2" parent="Environment/District4/SpawnPositions" index="1"]
position = Vector2(525, 308)

[node name="SpawnPosition3" parent="Environment/District4/SpawnPositions" index="2"]
position = Vector2(1237, 319)

[node name="CanvasLayer" type="CanvasLayer" parent="."]

[node name="ContentementOverlay" type="Control" parent="CanvasLayer"]
layout_mode = 3
anchors_preset = 0
offset_right = 1032.0
offset_bottom = 243.0

[node name="ContentementProgressBar" type="ProgressBar" parent="CanvasLayer/ContentementOverlay"]
unique_name_in_owner = true
layout_mode = 0
offset_left = 797.0
offset_top = 108.0
offset_right = 964.0
offset_bottom = 136.0
value = 50.0
show_percentage = false

[node name="ContentementLabel" type="Label" parent="CanvasLayer/ContentementOverlay/ContentementProgressBar"]
layout_mode = 1
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -56.5
offset_top = -11.5
offset_right = 56.5
offset_bottom = 11.5
grow_horizontal = 2
grow_vertical = 2
text = "Contentement"

[node name="TimeOverlay" type="Control" parent="CanvasLayer"]
layout_mode = 3
anchors_preset = 0
offset_left = 266.0
offset_top = 2.0
offset_right = 1031.0
offset_bottom = 252.0
mouse_filter = 2

[node name="TimeTextureProgressBar" type="TextureProgressBar" parent="CanvasLayer/TimeOverlay"]
unique_name_in_owner = true
layout_mode = 1
anchors_preset = 10
anchor_right = 1.0
offset_top = 17.0
offset_bottom = 78.0
grow_horizontal = 2
value = 10.0
nine_patch_stretch = true
texture_under = ExtResource("13_pg34l")
texture_progress = ExtResource("14_m4h2d")
tint_under = Color(0.32, 0.32, 0.32, 1)

[node name="TimeTextureRect" type="TextureRect" parent="CanvasLayer/TimeOverlay/TimeTextureProgressBar"]
unique_name_in_owner = true
layout_mode = 1
anchors_preset = 4
anchor_top = 0.5
anchor_bottom = 0.5
offset_left = 1.0
offset_top = -22.5
offset_right = 45.0
offset_bottom = 22.5
grow_vertical = 2
texture = ExtResource("15_p8abn")
expand_mode = 1
stretch_mode = 4

[node name="YearCounter" type="Label" parent="CanvasLayer/TimeOverlay/TimeTextureProgressBar/TimeTextureRect"]
unique_name_in_owner = true
layout_mode = 1
anchors_preset = 7
anchor_left = 0.5
anchor_top = 1.0
anchor_right = 0.5
anchor_bottom = 1.0
offset_left = -20.0
offset_top = 6.0
offset_right = 20.0
offset_bottom = 29.0
grow_horizontal = 2
grow_vertical = 0
text = "1800"

[node name="EventScreen" type="Control" parent="CanvasLayer"]
unique_name_in_owner = true
layout_mode = 3
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
mouse_filter = 2
script = ExtResource("4_6q06x")
events = Array[ExtResource("5_hujxm")]([ExtResource("6_yyfjg")])

[node name="EventDeactivateClickPanel" type="Panel" parent="CanvasLayer/EventScreen"]
unique_name_in_owner = true
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2

[node name="TextureRect" type="NinePatchRect" parent="CanvasLayer/EventScreen"]
layout_mode = 1
anchors_preset = 3
anchor_left = 1.0
anchor_top = 1.0
anchor_right = 1.0
anchor_bottom = 1.0
offset_left = -683.0
offset_top = -643.0
grow_horizontal = 0
grow_vertical = 0
texture = ExtResource("17_m4h2d")

[node name="MarginContainer" type="MarginContainer" parent="CanvasLayer/EventScreen/TextureRect"]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
theme_override_constants/margin_left = 45
theme_override_constants/margin_top = 40
theme_override_constants/margin_right = 40
theme_override_constants/margin_bottom = 40

[node name="VBoxContainer" type="VBoxContainer" parent="CanvasLayer/EventScreen/TextureRect/MarginContainer"]
layout_mode = 2
theme_override_constants/separation = 10

[node name="EventTitleLabel" type="Label" parent="CanvasLayer/EventScreen/TextureRect/MarginContainer/VBoxContainer"]
unique_name_in_owner = true
layout_mode = 2
text = "TITRE"
label_settings = ExtResource("18_p8abn")
autowrap_mode = 2

[node name="HBoxContainer" type="HBoxContainer" parent="CanvasLayer/EventScreen/TextureRect/MarginContainer/VBoxContainer"]
layout_mode = 2
size_flags_vertical = 3

[node name="EventDescriptionLabel" type="Label" parent="CanvasLayer/EventScreen/TextureRect/MarginContainer/VBoxContainer/HBoxContainer"]
unique_name_in_owner = true
layout_mode = 2
size_flags_horizontal = 3
size_flags_vertical = 6
text = "Certains bouchers viennent se plaindre, inquiets des rumeurs selon lesquelles ils n'auraient plus le droit d'abbatre leurs bêtes chez eux. Désormais ils devront utiliser les abbatoirs municipaux en périphérie de la ville. Leur mécontentement grandit, nourri par la peur de perdre leur travail"
label_settings = ExtResource("19_s17dp")
autowrap_mode = 2

[node name="EventTextureRect" type="TextureRect" parent="CanvasLayer/EventScreen/TextureRect/MarginContainer/VBoxContainer/HBoxContainer"]
unique_name_in_owner = true
layout_mode = 2
size_flags_horizontal = 3
texture = ExtResource("20_s17dp")
expand_mode = 1
stretch_mode = 5

[node name="EventChoiceButton1" type="TextureButton" parent="CanvasLayer/EventScreen/TextureRect/MarginContainer/VBoxContainer"]
unique_name_in_owner = true
visible = false
custom_minimum_size = Vector2(0, 80)
layout_mode = 2
size_flags_vertical = 3

[node name="NinePatchRect" type="NinePatchRect" parent="CanvasLayer/EventScreen/TextureRect/MarginContainer/VBoxContainer/EventChoiceButton1"]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
texture = ExtResource("9_ouso4")
patch_margin_left = 50
patch_margin_top = 70
patch_margin_right = 50
patch_margin_bottom = 70

[node name="MarginContainer" type="MarginContainer" parent="CanvasLayer/EventScreen/TextureRect/MarginContainer/VBoxContainer/EventChoiceButton1/NinePatchRect"]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
theme_override_constants/margin_left = 40
theme_override_constants/margin_top = 10
theme_override_constants/margin_right = 40
theme_override_constants/margin_bottom = 10

[node name="EventChoice1Label" type="Label" parent="CanvasLayer/EventScreen/TextureRect/MarginContainer/VBoxContainer/EventChoiceButton1/NinePatchRect/MarginContainer"]
unique_name_in_owner = true
layout_mode = 2
text = "Ce n'est pas à l'Etat de prendre en charge la pauvreté mais aux individus entre eux. Laissons les oeuvres de bienfaisance s'en occuper."
label_settings = ExtResource("19_s17dp")
autowrap_mode = 2

[node name="EventChoiceButton2" type="TextureButton" parent="CanvasLayer/EventScreen/TextureRect/MarginContainer/VBoxContainer"]
unique_name_in_owner = true
visible = false
custom_minimum_size = Vector2(0, 80)
layout_mode = 2
size_flags_vertical = 3

[node name="NinePatchRect" type="NinePatchRect" parent="CanvasLayer/EventScreen/TextureRect/MarginContainer/VBoxContainer/EventChoiceButton2"]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
texture = ExtResource("9_ouso4")
patch_margin_left = 50
patch_margin_top = 70
patch_margin_right = 50
patch_margin_bottom = 70

[node name="MarginContainer" type="MarginContainer" parent="CanvasLayer/EventScreen/TextureRect/MarginContainer/VBoxContainer/EventChoiceButton2/NinePatchRect"]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
theme_override_constants/margin_left = 40
theme_override_constants/margin_top = 10
theme_override_constants/margin_right = 40
theme_override_constants/margin_bottom = 10

[node name="EventChoice2Label" type="Label" parent="CanvasLayer/EventScreen/TextureRect/MarginContainer/VBoxContainer/EventChoiceButton2/NinePatchRect/MarginContainer"]
unique_name_in_owner = true
layout_mode = 2
text = "Nous devons effectivement régler cette vague de choléra dans nos rues, mais les dépenses seront revues au strict minimum."
label_settings = ExtResource("19_s17dp")
autowrap_mode = 2

[node name="FollowUpButton" type="TextureButton" parent="CanvasLayer/EventScreen/TextureRect/MarginContainer/VBoxContainer"]
unique_name_in_owner = true
custom_minimum_size = Vector2(0, 80)
layout_mode = 2
size_flags_vertical = 3

[node name="NinePatchRect" type="NinePatchRect" parent="CanvasLayer/EventScreen/TextureRect/MarginContainer/VBoxContainer/FollowUpButton"]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
texture = ExtResource("9_ouso4")
patch_margin_left = 50
patch_margin_top = 70
patch_margin_right = 50
patch_margin_bottom = 70

[node name="MarginContainer" type="MarginContainer" parent="CanvasLayer/EventScreen/TextureRect/MarginContainer/VBoxContainer/FollowUpButton/NinePatchRect"]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
theme_override_constants/margin_left = 40
theme_override_constants/margin_top = 10
theme_override_constants/margin_right = 40
theme_override_constants/margin_bottom = 10

[node name="FollowUpLabel" type="Label" parent="CanvasLayer/EventScreen/TextureRect/MarginContainer/VBoxContainer/FollowUpButton/NinePatchRect/MarginContainer"]
unique_name_in_owner = true
layout_mode = 2
text = "On circule mal dans certaines rues! Il faut faire quelque chose! / Pas un seul jet de déchets dans les rues ne sera tolléré en dehors des récipients adaptés. Imposer cela prend un temps fou. Les âniers sont très mécontents de cette décision. Certains crient au mépris de la classe paysanne, qui risque de perdre énormément d’engrais et de voir ses récoltes affectées"
label_settings = ExtResource("19_s17dp")
autowrap_mode = 2

[node name="GameOver" type="Control" parent="CanvasLayer"]
layout_mode = 3
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
mouse_filter = 2

[node name="PandemicEndingScreen" type="TextureRect" parent="CanvasLayer/GameOver"]
visible = false
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
texture = ExtResource("11_ouso4")
script = ExtResource("12_blune")

[node name="BackToTitleButton" type="Button" parent="CanvasLayer/GameOver/PandemicEndingScreen"]
layout_mode = 1
anchors_preset = 7
anchor_left = 0.5
anchor_top = 1.0
anchor_right = 0.5
anchor_bottom = 1.0
offset_left = -272.5
offset_top = -262.0
offset_right = 272.5
offset_bottom = -148.0
grow_horizontal = 2
grow_vertical = 0
theme = ExtResource("24_0bhws")
text = "Menu principal"

[node name="InsurectionEndingScreen" type="TextureRect" parent="CanvasLayer/GameOver"]
visible = false
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
texture = ExtResource("27_gkmcc")
script = ExtResource("28_7nlll")

[node name="BackToTitleButton" type="Button" parent="CanvasLayer/GameOver/InsurectionEndingScreen"]
layout_mode = 1
anchors_preset = 7
anchor_left = 0.5
anchor_top = 1.0
anchor_right = 0.5
anchor_bottom = 1.0
offset_left = -272.5
offset_top = -262.0
offset_right = 272.5
offset_bottom = -148.0
grow_horizontal = 2
grow_vertical = 0
theme = ExtResource("24_0bhws")
text = "Menu principal"

[node name="VictoryScreen" type="TextureRect" parent="CanvasLayer/GameOver"]
visible = false
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
texture = ExtResource("29_ii537")

[node name="BackToTitleButton" type="Button" parent="CanvasLayer/GameOver/VictoryScreen"]
layout_mode = 1
anchors_preset = 7
anchor_left = 0.5
anchor_top = 1.0
anchor_right = 0.5
anchor_bottom = 1.0
offset_left = -272.5
offset_top = -262.0
offset_right = 272.5
offset_bottom = -148.0
grow_horizontal = 2
grow_vertical = 0
theme = ExtResource("24_0bhws")
text = "Menu principal"

[node name="TitleScreen" type="Control" parent="CanvasLayer"]
unique_name_in_owner = true
visible = false
layout_mode = 3
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
offset_top = 2.0
offset_bottom = 2.0
grow_horizontal = 2
grow_vertical = 2
script = ExtResource("47_jucdw")

[node name="BGTextureRect" type="TextureRect" parent="CanvasLayer/TitleScreen"]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
texture = ExtResource("22_37hlw")

[node name="TitleTextureRect" type="TextureRect" parent="CanvasLayer/TitleScreen/BGTextureRect"]
layout_mode = 0
offset_left = 616.0
offset_top = 74.0
offset_right = 1431.0
offset_bottom = 299.0
texture = ExtResource("23_6llfj")

[node name="OptionsMenu" type="Control" parent="CanvasLayer/TitleScreen/BGTextureRect"]
unique_name_in_owner = true
layout_mode = 1
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -349.0
offset_top = -203.5
offset_right = 349.0
offset_bottom = 203.5
grow_horizontal = 2
grow_vertical = 2

[node name="BGTextureRect" type="TextureRect" parent="CanvasLayer/TitleScreen/BGTextureRect/OptionsMenu"]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
texture = ExtResource("50_6miv3")
expand_mode = 1
stretch_mode = 5

[node name="MarginContainer" type="MarginContainer" parent="CanvasLayer/TitleScreen/BGTextureRect/OptionsMenu/BGTextureRect"]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
theme_override_constants/margin_left = 40
theme_override_constants/margin_top = 100
theme_override_constants/margin_right = 40
theme_override_constants/margin_bottom = 40

[node name="VBoxContainer" type="VBoxContainer" parent="CanvasLayer/TitleScreen/BGTextureRect/OptionsMenu/BGTextureRect/MarginContainer"]
layout_mode = 2

[node name="HBoxContainer" type="HBoxContainer" parent="CanvasLayer/TitleScreen/BGTextureRect/OptionsMenu/BGTextureRect/MarginContainer/VBoxContainer"]
layout_mode = 2
alignment = 1

[node name="HelpLabel" type="Label" parent="CanvasLayer/TitleScreen/BGTextureRect/OptionsMenu/BGTextureRect/MarginContainer/VBoxContainer/HBoxContainer"]
layout_mode = 2
text = "Activer l'aide à la décision"
label_settings = ExtResource("51_yisfj")

[node name="OptionButton" type="CheckButton" parent="CanvasLayer/TitleScreen/BGTextureRect/OptionsMenu/BGTextureRect/MarginContainer/VBoxContainer/HBoxContainer"]
layout_mode = 2

[node name="CloseOptionsButton" type="Button" parent="CanvasLayer/TitleScreen/BGTextureRect/OptionsMenu/BGTextureRect/MarginContainer"]
custom_minimum_size = Vector2(200, 80)
layout_mode = 2
size_flags_horizontal = 4
size_flags_vertical = 8
theme = ExtResource("24_0bhws")
text = "Fermer"

[node name="CreditsMenu" type="Control" parent="CanvasLayer/TitleScreen/BGTextureRect"]
unique_name_in_owner = true
layout_mode = 1
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -349.0
offset_top = -204.0
offset_right = 349.0
offset_bottom = 204.0
grow_horizontal = 2
grow_vertical = 2

[node name="BGTextureRect" type="TextureRect" parent="CanvasLayer/TitleScreen/BGTextureRect/CreditsMenu"]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
texture = ExtResource("50_6miv3")
expand_mode = 1
stretch_mode = 5

[node name="MarginContainer" type="MarginContainer" parent="CanvasLayer/TitleScreen/BGTextureRect/CreditsMenu/BGTextureRect"]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
theme_override_constants/margin_left = 40
theme_override_constants/margin_top = 40
theme_override_constants/margin_right = 40
theme_override_constants/margin_bottom = 40

[node name="VBoxContainer" type="VBoxContainer" parent="CanvasLayer/TitleScreen/BGTextureRect/CreditsMenu/BGTextureRect/MarginContainer"]
layout_mode = 2
theme_override_constants/separation = 20

[node name="TitleLabel" type="Label" parent="CanvasLayer/TitleScreen/BGTextureRect/CreditsMenu/BGTextureRect/MarginContainer/VBoxContainer"]
layout_mode = 2
text = "CREDITS"
label_settings = ExtResource("51_yisfj")
horizontal_alignment = 1

[node name="CreditsLabel" type="Label" parent="CanvasLayer/TitleScreen/BGTextureRect/CreditsMenu/BGTextureRect/MarginContainer/VBoxContainer"]
layout_mode = 2
text = "Professeure : Laetitia
Game design : Wilson
Artistes : Anne-Laure, Julie
Sound design : Sebastien
Développement : Charlie, Ghislain"
label_settings = ExtResource("51_yisfj")
horizontal_alignment = 1
autowrap_mode = 2

[node name="CloseOptionsButton" type="Button" parent="CanvasLayer/TitleScreen/BGTextureRect/CreditsMenu/BGTextureRect/MarginContainer/VBoxContainer"]
custom_minimum_size = Vector2(200, 80)
layout_mode = 2
size_flags_horizontal = 4
size_flags_vertical = 8
theme = ExtResource("24_0bhws")
text = "Fermer"

[node name="StartMenu" type="Control" parent="CanvasLayer/TitleScreen/BGTextureRect"]
unique_name_in_owner = true
visible = false
layout_mode = 1
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -252.0
offset_top = -164.0
offset_right = 252.0
offset_bottom = 164.0
grow_horizontal = 2
grow_vertical = 2

[node name="VBoxContainer" type="VBoxContainer" parent="CanvasLayer/TitleScreen/BGTextureRect/StartMenu"]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
offset_bottom = 97.0
grow_horizontal = 2
grow_vertical = 2
theme_override_constants/separation = 20

[node name="StartButton" type="Button" parent="CanvasLayer/TitleScreen/BGTextureRect/StartMenu/VBoxContainer"]
custom_minimum_size = Vector2(0, 80)
layout_mode = 2
size_flags_vertical = 4
theme = ExtResource("24_0bhws")
text = "Nouvelle partie"

[node name="CreditsButton" type="Button" parent="CanvasLayer/TitleScreen/BGTextureRect/StartMenu/VBoxContainer"]
custom_minimum_size = Vector2(0, 80)
layout_mode = 2
size_flags_vertical = 4
theme = ExtResource("24_0bhws")
text = "Crédits"

[node name="OptionsButton" type="Button" parent="CanvasLayer/TitleScreen/BGTextureRect/StartMenu/VBoxContainer"]
custom_minimum_size = Vector2(0, 80)
layout_mode = 2
size_flags_vertical = 4
theme = ExtResource("24_0bhws")
text = "Options"

[node name="YearCounter" type="Label" parent="CanvasLayer"]
visible = false
offset_right = 40.0
offset_bottom = 23.0
script = ExtResource("8_yyfjg")

[connection signal="finished" from="MusicManager/AudioStreamPlayer" to="MusicManager" method="_on_audio_stream_player_finished"]
[connection signal="pressed" from="CanvasLayer/EventScreen/TextureRect/MarginContainer/VBoxContainer/EventChoiceButton1" to="CanvasLayer/EventScreen" method="_on_event_choice_button_1_pressed"]
[connection signal="pressed" from="CanvasLayer/EventScreen/TextureRect/MarginContainer/VBoxContainer/EventChoiceButton2" to="CanvasLayer/EventScreen" method="_on_event_choice_button_2_pressed"]
[connection signal="pressed" from="CanvasLayer/EventScreen/TextureRect/MarginContainer/VBoxContainer/FollowUpButton" to="CanvasLayer/EventScreen" method="_on_follow_up_button_pressed"]
[connection signal="pressed" from="CanvasLayer/GameOver/PandemicEndingScreen/BackToTitleButton" to="." method="_on_back_to_title_button_pressed"]
[connection signal="pressed" from="CanvasLayer/GameOver/InsurectionEndingScreen/BackToTitleButton" to="." method="_on_back_to_title_button_pressed"]
[connection signal="pressed" from="CanvasLayer/GameOver/VictoryScreen/BackToTitleButton" to="." method="_on_back_to_title_button_pressed"]
[connection signal="toggled" from="CanvasLayer/TitleScreen/BGTextureRect/OptionsMenu/BGTextureRect/MarginContainer/VBoxContainer/HBoxContainer/OptionButton" to="." method="_on_option_button_toggled"]
[connection signal="pressed" from="CanvasLayer/TitleScreen/BGTextureRect/OptionsMenu/BGTextureRect/MarginContainer/CloseOptionsButton" to="CanvasLayer/TitleScreen" method="_on_close_options_button_pressed"]
[connection signal="pressed" from="CanvasLayer/TitleScreen/BGTextureRect/CreditsMenu/BGTextureRect/MarginContainer/VBoxContainer/CloseOptionsButton" to="CanvasLayer/TitleScreen" method="_on_close_options_button_pressed"]
[connection signal="pressed" from="CanvasLayer/TitleScreen/BGTextureRect/StartMenu/VBoxContainer/StartButton" to="." method="_on_start_button_pressed"]
[connection signal="pressed" from="CanvasLayer/TitleScreen/BGTextureRect/StartMenu/VBoxContainer/CreditsButton" to="CanvasLayer/TitleScreen" method="_on_credits_button_pressed"]
[connection signal="pressed" from="CanvasLayer/TitleScreen/BGTextureRect/StartMenu/VBoxContainer/OptionsButton" to="CanvasLayer/TitleScreen" method="_on_options_button_pressed"]

[editable path="Environment/District1"]
[editable path="Environment/District2"]
[editable path="Environment/District3"]
[editable path="Environment/District4"]
