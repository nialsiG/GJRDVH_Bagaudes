[gd_scene load_steps=71 format=3 uid="uid://bk7rklt41thfd"]

[ext_resource type="Script" uid="uid://crx700gi0scwg" path="res://scenes/main/main.gd" id="1_hyk8p"]
[ext_resource type="Script" uid="uid://4qi8nq22sbyk" path="res://scenes/events/event_manager.gd" id="2_b1x3f"]
[ext_resource type="Script" uid="uid://dvg5o1r6lcdk1" path="res://scenes/music/music_manager.gd" id="2_iuonh"]
[ext_resource type="PackedScene" uid="uid://lm3epfr78djn" path="res://scenes/District/district.tscn" id="3_k2fmo"]
[ext_resource type="Script" uid="uid://c8r0muwy0kraw" path="res://scenes/events/event_screen.gd" id="4_6q06x"]
[ext_resource type="Script" uid="uid://bnmy8nr103np7" path="res://resources/events/event_resource.gd" id="5_hujxm"]
[ext_resource type="Resource" uid="uid://qle2n3ixf4mh" path="res://resources/events/rue_imperiale.tres" id="5_i7in8"]
[ext_resource type="Script" uid="uid://bl24mserlgric" path="res://scenes/music/sound_manager.gd" id="6_62atk"]
[ext_resource type="Texture2D" uid="uid://3m8yv0tuy7wo" path="res://assets/sprites/1e_ebauchecarte.png" id="6_blune"]
[ext_resource type="Resource" uid="uid://b8p0m71h3q38l" path="res://resources/events/soccuper_des_fous.tres" id="6_r1bmu"]
[ext_resource type="Resource" uid="uid://c5bcsxc0tal8q" path="res://resources/events/event_test.tres" id="6_yyfjg"]
[ext_resource type="Resource" uid="uid://b8ejf4qu0eykj" path="res://resources/events/eloignement_des_abbatoirs.tres" id="7_6w6mm"]
[ext_resource type="Texture2D" uid="uid://tmaj66ugmk57" path="res://assets/sprites/riviere_campagne.png" id="7_hxu8e"]
[ext_resource type="Resource" uid="uid://cpqph0gnweck2" path="res://resources/events/creer_un_parc.tres" id="8_os81g"]
[ext_resource type="Texture2D" uid="uid://bt86ld0x4a3uq" path="res://assets/sprites/croixrousse.png" id="8_th5th"]
[ext_resource type="Script" uid="uid://c6olv104gjcfm" path="res://scenes/main/year_counter.gd" id="8_yyfjg"]
[ext_resource type="Resource" uid="uid://bbbmqpyteds14" path="res://resources/events/division_de_la_ville.tres" id="9_1k3ck"]
[ext_resource type="Texture2D" uid="uid://cr1wde06qd4tg" path="res://assets/icones/button choix.png" id="9_ouso4"]
[ext_resource type="Texture2D" uid="uid://5vr63k281d11" path="res://assets/sprites/guillotiere.png" id="9_raeie"]
[ext_resource type="Resource" uid="uid://dt0h3n2s83yob" path="res://resources/events/trouver_des_fonds.tres" id="10_62f45"]
[ext_resource type="Texture2D" uid="uid://8o1lfr6nnrhr" path="res://assets/sprites/Brotteaux.png" id="10_hxu8e"]
[ext_resource type="Resource" uid="uid://btvbgskc7xvyt" path="res://resources/events/revolte_des_canuts.tres" id="11_6g32y"]
[ext_resource type="Texture2D" uid="uid://d7vgdntk84ui" path="res://assets/sprites/presquile.png" id="11_nvumn"]
[ext_resource type="Texture2D" uid="uid://dyrfohag10b07" path="res://scenes/main/defaite.png" id="11_ouso4"]
[ext_resource type="Resource" uid="uid://dn378h12aslsf" path="res://resources/events/morgue_flottante.tres" id="12_6w6mm"]
[ext_resource type="Script" uid="uid://d4devl1s68j4y" path="res://scenes/main/pandemic_ending_screen.gd" id="12_blune"]
[ext_resource type="Resource" uid="uid://trd6eh0j0c6g" path="res://resources/events/revoltes_des_couvents.tres" id="13_os81g"]
[ext_resource type="Texture2D" uid="uid://deeaa5ttqhg8n" path="res://assets/icones/barre progression base.png" id="13_pg34l"]
[ext_resource type="Resource" uid="uid://bdvmhu0idtoa3" path="res://resources/events/bureau_d_hygiene.tres" id="14_1k3ck"]
[ext_resource type="Texture2D" uid="uid://j04yf6kf7dvu" path="res://assets/icones/barre progression remplie.png" id="14_m4h2d"]
[ext_resource type="Resource" uid="uid://fo8novgqncve" path="res://resources/events/eau_courante.tres" id="15_62f45"]
[ext_resource type="Texture2D" uid="uid://c07q7mk70nxxx" path="res://assets/icones/sablier.png" id="15_p8abn"]
[ext_resource type="Resource" uid="uid://bw2jujjc18lji" path="res://resources/events/pauvrete.tres" id="16_6g32y"]
[ext_resource type="Resource" uid="uid://d64l33tmdxu3" path="res://resources/events/regles_de_nettoyage.tres" id="17_5nwjq"]
[ext_resource type="Texture2D" uid="uid://crepm7tu52ofi" path="res://assets/icones/ui window.png" id="17_m4h2d"]
[ext_resource type="Resource" uid="uid://botaebyd6o1ov" path="res://resources/events/usines.tres" id="18_g2upo"]
[ext_resource type="LabelSettings" uid="uid://6ar31ctqkd00" path="res://resources/labels/event_name_label.tres" id="18_p8abn"]
[ext_resource type="Resource" uid="uid://dydiamepsym2b" path="res://resources/events/reverberes.tres" id="19_38d3o"]
[ext_resource type="LabelSettings" uid="uid://dkx4kwhpvio3m" path="res://resources/labels/event_text_label.tres" id="19_s17dp"]
[ext_resource type="Texture2D" uid="uid://cw24xy3kw3ti8" path="res://assets/icones/icon social 2.png" id="20_s17dp"]
[ext_resource type="Resource" uid="uid://d1dvrnp2nsn4n" path="res://resources/events/crue_du_rhone_saone.tres" id="21_7dg2i"]
[ext_resource type="Resource" uid="uid://w215wbjxo3s5" path="res://resources/events/gentrification.tres" id="22_08tbl"]
[ext_resource type="Texture2D" uid="uid://dfpuin5devrla" path="res://assets/sprites/menu sans titre.png" id="22_37hlw"]
[ext_resource type="Texture2D" uid="uid://cp3snlimnx8of" path="res://assets/icones/titre 2.png" id="23_6llfj"]
[ext_resource type="AudioStream" uid="uid://digrxkcgsbjfo" path="res://assets/music/FINAL-cholera_ending_main_loop_only.mp3" id="23_7ahn0"]
[ext_resource type="AudioStream" uid="uid://deoboabn4u07g" path="res://assets/music/FINAL-title_screen_intro_and_main_loop.mp3" id="23_62gx1"]
[ext_resource type="Theme" uid="uid://ywumn8s5bsps" path="res://resources/buttons/menu_button_theme.tres" id="24_0bhws"]
[ext_resource type="AudioStream" uid="uid://cdxkto4ejkq0e" path="res://assets/music/FINAL-title_screen_main_loop_only.mp3" id="24_ae8n2"]
[ext_resource type="AudioStream" uid="uid://xb60a3jbrcn5" path="res://assets/music/FINAL-main_theme.mp3" id="25_obdhw"]
[ext_resource type="AudioStream" uid="uid://dklfhxlhfa0p7" path="res://assets/music/FINAL-main_theme_main_loop.mp3" id="26_budmp"]
[ext_resource type="AudioStream" uid="uid://p1b7qh0emxso" path="res://assets/music/FINAL-victory_theme_intro_main_loop.mp3" id="27_32ji7"]
[ext_resource type="Texture2D" uid="uid://cmvmtbkh4ow0" path="res://assets/sprites/defaite revolte.png" id="27_gkmcc"]
[ext_resource type="Script" uid="uid://co7o2oe1e5n86" path="res://scenes/main/insurection_ending_screen.gd" id="28_7nlll"]
[ext_resource type="AudioStream" uid="uid://bmfpxi1dit48g" path="res://assets/music/FINAL-victory_theme_main_loop_only.mp3" id="28_sveqe"]
[ext_resource type="AudioStream" uid="uid://dtlqxmujv1hix" path="res://assets/music/FINAL-cholera_ending_intro_main_loop.mp3" id="29_lakrh"]
[ext_resource type="AudioStream" uid="uid://cg3bwr41v15k1" path="res://assets/music/FINAL-riot_ending_intro_main_loop.mp3" id="31_2dp8j"]
[ext_resource type="Texture2D" uid="uid://d8ru5d334mxh" path="res://assets/sprites/dechets.png" id="31_pd34m"]
[ext_resource type="Texture2D" uid="uid://6angndigwpq7" path="res://assets/sprites/bateau_morgue.png" id="32_qjyke"]
[ext_resource type="AudioStream" uid="uid://d3tiiggdxs3yq" path="res://assets/music/FINAL-riot_ending_main_loop_only.mp3" id="32_t1gen"]
[ext_resource type="Texture2D" uid="uid://c4s4tdtyew2iq" path="res://assets/icones/barre contentement frame.png" id="34_o8kno"]
[ext_resource type="LabelSettings" uid="uid://3pufyewnf6ej" path="res://resources/labels/progressbar_label.tres" id="35_7ahn0"]
[ext_resource type="Script" uid="uid://n7b11n21rui6" path="res://scenes/main/title_screen.gd" id="47_jucdw"]
[ext_resource type="Texture2D" uid="uid://d2asy54qhpvek" path="res://assets/icones/ecran credit.png" id="50_6miv3"]
[ext_resource type="Texture2D" uid="uid://byn33jkhkkwfk" path="res://assets/sprites/victoiretourradio2.png" id="50_o8kno"]
[ext_resource type="LabelSettings" uid="uid://8d8cwd8bgy3c" path="res://resources/labels/menu_text_label.tres" id="51_yisfj"]
[ext_resource type="LabelSettings" uid="uid://dxog8bbkjr0ox" path="res://resources/labels/FollowUpButtonContinue.tres" id="55_ae8n2"]

[sub_resource type="Gradient" id="Gradient_o8kno"]
colors = PackedColorArray(0.49411765, 0.35686275, 0.3764706, 1, 0.49411765, 0.35686275, 0.3764706, 1)

[sub_resource type="GradientTexture2D" id="GradientTexture2D_7ahn0"]
gradient = SubResource("Gradient_o8kno")
width = 208
height = 50

[sub_resource type="Gradient" id="Gradient_3ql0k"]
colors = PackedColorArray(0.8666667, 0.6666667, 0.3882353, 1, 0.8666667, 0.6666667, 0.3882353, 1)

[sub_resource type="GradientTexture2D" id="GradientTexture2D_8biwb"]
gradient = SubResource("Gradient_3ql0k")
width = 208
height = 50

[node name="Main" type="Node"]
script = ExtResource("1_hyk8p")
initial_contentement = 30.0
final_year = 1880

[node name="EventManager" type="Node" parent="."]
script = ExtResource("2_b1x3f")
initial_events = Array[ExtResource("5_hujxm")]([ExtResource("5_i7in8"), ExtResource("6_r1bmu"), ExtResource("7_6w6mm"), ExtResource("8_os81g"), ExtResource("9_1k3ck"), ExtResource("10_62f45"), ExtResource("11_6g32y"), ExtResource("12_6w6mm"), ExtResource("13_os81g"), ExtResource("14_1k3ck"), ExtResource("15_62f45"), ExtResource("16_6g32y"), ExtResource("17_5nwjq"), ExtResource("18_g2upo"), ExtResource("19_38d3o"), ExtResource("21_7dg2i"), ExtResource("22_08tbl")])

[node name="MusicManager" type="Node" parent="."]
script = ExtResource("2_iuonh")
title = ExtResource("23_62gx1")
title_loop = ExtResource("24_ae8n2")
main = ExtResource("25_obdhw")
main_loop = ExtResource("26_budmp")
victory = ExtResource("27_32ji7")
victory_loop = ExtResource("28_sveqe")
cholera = ExtResource("29_lakrh")
cholera_loop = ExtResource("23_7ahn0")
revolte = ExtResource("31_2dp8j")
revolte_loop = ExtResource("32_t1gen")

[node name="AudioStreamPlayer" type="AudioStreamPlayer" parent="MusicManager"]
volume_db = -10.0

[node name="SoundManager" type="Node" parent="."]
script = ExtResource("6_62atk")
angry_crowd_1 = "uid://ckpwjdwundxu1"
angry_crowd_2 = "res://assets/sound/angry_crowd_2.mp3"
angry_crowd_3 = "res://assets/sound/angry_crowd_3.mp3"
cough_1 = "uid://dx7mxv4m2m08q"
cough_2 = "uid://b6anutay5j6a8"
popup_1 = "uid://2fm1rv5gqlyu"
popup_2 = "uid://5i3jqxhy5ixc"
click_validate = "uid://bo0ysmjr5dy8r"
ui_selection_ingame = "uid://c61lj0yqjbb35"
ui_selection_titlescreen = "uid://brr4nv85bl0fa"

[node name="AudioStreamPlayer" type="AudioStreamPlayer" parent="SoundManager"]
volume_db = -10.0

[node name="Environment" type="Node2D" parent="."]

[node name="BGSprite2D" type="Sprite2D" parent="Environment"]
position = Vector2(960, 540)
texture = ExtResource("6_blune")

[node name="RiverSprite2D" type="Sprite2D" parent="Environment"]
visible = false
position = Vector2(960, 540)
texture = ExtResource("7_hxu8e")

[node name="District1" parent="Environment" instance=ExtResource("3_k2fmo")]
unique_name_in_owner = true
district_color = Color(1, 1, 1, 1)
district_color_on_hover = Color(0.65882355, 0.5921569, 0.4392157, 1)

[node name="Sprite2D" parent="Environment/District1" index="0"]
position = Vector2(960, 540)
texture = ExtResource("8_th5th")

[node name="CollisionPolygon2D" parent="Environment/District1/Area2D" index="0"]
visible = false
polygon = PackedVector2Array(1349, 1, 1469, 140, 1417, 460, 1289, 531, 1651, 641, 1919, 817, 1918, -3)

[node name="Label" parent="Environment/District1" index="2"]
offset_left = 1537.0
offset_top = 51.0
offset_right = 1954.0
offset_bottom = 132.0
text = "Croix-Rousse"

[node name="HealthComponent" parent="Environment/District1" index="3"]
offset_left = 1594.0
offset_top = 117.0
offset_right = 1898.0
offset_bottom = 207.0

[node name="SpawnPosition1" parent="Environment/District1/SpawnPositions" index="0"]
position = Vector2(1459, 27)

[node name="SpawnPosition2" parent="Environment/District1/SpawnPositions" index="1"]
position = Vector2(1443, 511)

[node name="SpawnPosition3" parent="Environment/District1/SpawnPositions" index="2"]
position = Vector2(1766, 531)

[node name="District2" parent="Environment" instance=ExtResource("3_k2fmo")]
unique_name_in_owner = true
district_type = 1
district_color = Color(1, 1, 1, 1)
district_color_on_hover = Color(0.7921569, 0.58431375, 0.5372549, 1)

[node name="Sprite2D" parent="Environment/District2" index="0"]
position = Vector2(960, 540)
texture = ExtResource("9_raeie")

[node name="CollisionPolygon2D" parent="Environment/District2/Area2D" index="0"]
visible = false
polygon = PackedVector2Array(-1, 405, 687, 608, 863, 608, 832, 1080, -4, 1080)

[node name="Label" parent="Environment/District2" index="2"]
offset_left = 265.0
offset_top = 709.0
offset_right = 682.0
offset_bottom = 790.0
text = "Guillotière"

[node name="HealthComponent" parent="Environment/District2" index="3"]
offset_left = 327.0
offset_top = 771.0
offset_right = 631.0
offset_bottom = 861.0

[node name="SpawnPosition1" parent="Environment/District2/SpawnPositions" index="0"]
position = Vector2(411, 548)

[node name="SpawnPosition2" parent="Environment/District2/SpawnPositions" index="1"]
position = Vector2(36, 741)

[node name="SpawnPosition3" parent="Environment/District2/SpawnPositions" index="2"]
position = Vector2(690, 703)

[node name="District3" parent="Environment" instance=ExtResource("3_k2fmo")]
unique_name_in_owner = true
district_type = 2
district_color = Color(1, 1, 1, 1)
district_color_on_hover = Color(0.8862745, 0.80784315, 0.5921569, 1)

[node name="Sprite2D" parent="Environment/District3" index="0"]
position = Vector2(960, 540)
texture = ExtResource("10_hxu8e")

[node name="CollisionPolygon2D" parent="Environment/District3/Area2D" index="0"]
visible = false
polygon = PackedVector2Array(863, 612, 835, 1078, 1213, 1077, 1291, 976, 1338, 847, 1454, 755, 1498, 674, 1336, 617)

[node name="Label" parent="Environment/District3" index="2"]
offset_left = 819.0
offset_top = 903.0
offset_right = 1236.0
offset_bottom = 984.0
text = "Les Brotteaux"

[node name="HealthComponent" parent="Environment/District3" index="3"]
offset_left = 877.0
offset_top = 970.0
offset_right = 1181.0
offset_bottom = 1060.0

[node name="SpawnPosition1" parent="Environment/District3/SpawnPositions" index="0"]
position = Vector2(946, 612)

[node name="SpawnPosition2" parent="Environment/District3/SpawnPositions" index="1"]
position = Vector2(1273, 665)

[node name="SpawnPosition3" parent="Environment/District3/SpawnPositions" index="2"]
position = Vector2(983, 762)

[node name="District4" parent="Environment" instance=ExtResource("3_k2fmo")]
unique_name_in_owner = true
district_type = 3
district_color = Color(1, 1, 1, 1)
district_color_on_hover = Color(0.8392157, 0.6666667, 0.56078434, 1)

[node name="Sprite2D" parent="Environment/District4" index="0"]
position = Vector2(960, 540)
texture = ExtResource("11_nvumn")

[node name="CollisionPolygon2D" parent="Environment/District4/Area2D" index="0"]
visible = false
polygon = PackedVector2Array(131, 0, 149, 32, 397, 156, 667, 276, 908, 329, 1052, 308, 1116, 249, 1112, 122, 1076, -4, 1344, 0, 1462, 138, 1414, 463, 1205, 536, 737, 538, 407, 450, -1, 272, -1, 0)

[node name="Label" parent="Environment/District4" index="2"]
offset_left = 43.0
offset_top = 204.0
offset_right = 460.0
offset_bottom = 285.0
text = "Presqu'île"

[node name="HealthComponent" parent="Environment/District4" index="3"]
offset_left = 105.0
offset_top = 270.0
offset_right = 409.0
offset_bottom = 360.0

[node name="SpawnPosition1" parent="Environment/District4/SpawnPositions" index="0"]
position = Vector2(718, 464)

[node name="SpawnPosition2" parent="Environment/District4/SpawnPositions" index="1"]
position = Vector2(1113, 473)

[node name="SpawnPosition3" parent="Environment/District4/SpawnPositions" index="2"]
position = Vector2(1255, 136)

[node name="Dechets" type="Sprite2D" parent="Environment"]
position = Vector2(905, 494)
texture = ExtResource("31_pd34m")

[node name="BateauMorgue" type="Sprite2D" parent="Environment"]
position = Vector2(621, 509)
texture = ExtResource("32_qjyke")

[node name="CanvasLayer" type="CanvasLayer" parent="."]

[node name="ContentementOverlay" type="Control" parent="CanvasLayer"]
layout_mode = 3
anchors_preset = 0
offset_left = 601.0
offset_top = 97.0
offset_right = 894.0
offset_bottom = 200.0

[node name="ContentementProgressBar" type="TextureProgressBar" parent="CanvasLayer/ContentementOverlay"]
unique_name_in_owner = true
layout_mode = 1
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -105.0
offset_top = -25.0
offset_right = 105.0
offset_bottom = 25.0
grow_horizontal = 2
grow_vertical = 2
value = 50.0
texture_under = SubResource("GradientTexture2D_7ahn0")
texture_progress = SubResource("GradientTexture2D_8biwb")

[node name="ContentementLabel" type="Label" parent="CanvasLayer/ContentementOverlay/ContentementProgressBar"]
layout_mode = 1
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -70.0
offset_top = -14.0
offset_right = 71.0
offset_bottom = 14.0
grow_horizontal = 2
grow_vertical = 2
text = "Contentement"
label_settings = ExtResource("35_7ahn0")
horizontal_alignment = 1
vertical_alignment = 1

[node name="TextureRect" type="TextureRect" parent="CanvasLayer/ContentementOverlay"]
layout_mode = 1
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -112.0
offset_top = -31.5
offset_right = 112.0
offset_bottom = 31.5
grow_horizontal = 2
grow_vertical = 2
texture = ExtResource("34_o8kno")
stretch_mode = 5

[node name="TimeOverlay" type="Control" parent="CanvasLayer"]
layout_mode = 3
anchors_preset = 0
offset_left = 266.0
offset_top = 2.0
offset_right = 1031.0
offset_bottom = 252.0
mouse_filter = 2

[node name="TimeTextureProgressBar" type="TextureProgressBar" parent="CanvasLayer/TimeOverlay"]
unique_name_in_owner = true
layout_mode = 1
anchors_preset = 10
anchor_right = 1.0
offset_top = 17.0
offset_bottom = 78.0
grow_horizontal = 2
value = 10.0
nine_patch_stretch = true
texture_under = ExtResource("13_pg34l")
texture_progress = ExtResource("14_m4h2d")
tint_under = Color(0.32, 0.32, 0.32, 1)

[node name="TimeTextureRect" type="TextureRect" parent="CanvasLayer/TimeOverlay/TimeTextureProgressBar"]
unique_name_in_owner = true
layout_mode = 1
anchors_preset = 4
anchor_top = 0.5
anchor_bottom = 0.5
offset_top = -22.5
offset_right = 44.0
offset_bottom = 22.5
grow_vertical = 2
texture = ExtResource("15_p8abn")
expand_mode = 1
stretch_mode = 4

[node name="YearCounter" type="Label" parent="CanvasLayer/TimeOverlay/TimeTextureProgressBar/TimeTextureRect"]
unique_name_in_owner = true
layout_mode = 1
anchors_preset = 7
anchor_left = 0.5
anchor_top = 1.0
anchor_right = 0.5
anchor_bottom = 1.0
offset_left = -20.0
offset_top = 6.0
offset_right = 20.0
offset_bottom = 29.0
grow_horizontal = 2
grow_vertical = 0
text = "1800"

[node name="EventScreen" type="Control" parent="CanvasLayer"]
unique_name_in_owner = true
layout_mode = 3
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
mouse_filter = 2
script = ExtResource("4_6q06x")
events = Array[ExtResource("5_hujxm")]([ExtResource("6_yyfjg")])

[node name="EventDeactivateClickPanel" type="Panel" parent="CanvasLayer/EventScreen"]
unique_name_in_owner = true
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2

[node name="TextureRect" type="NinePatchRect" parent="CanvasLayer/EventScreen"]
layout_mode = 1
anchors_preset = 3
anchor_left = 1.0
anchor_top = 1.0
anchor_right = 1.0
anchor_bottom = 1.0
offset_left = -683.0
offset_top = -643.0
grow_horizontal = 0
grow_vertical = 0
texture = ExtResource("17_m4h2d")

[node name="MarginContainer" type="MarginContainer" parent="CanvasLayer/EventScreen/TextureRect"]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
theme_override_constants/margin_left = 45
theme_override_constants/margin_top = 40
theme_override_constants/margin_right = 40
theme_override_constants/margin_bottom = 40

[node name="VBoxContainer" type="VBoxContainer" parent="CanvasLayer/EventScreen/TextureRect/MarginContainer"]
layout_mode = 2
theme_override_constants/separation = 10

[node name="EventTitleLabel" type="Label" parent="CanvasLayer/EventScreen/TextureRect/MarginContainer/VBoxContainer"]
unique_name_in_owner = true
layout_mode = 2
text = "TITRE"
label_settings = ExtResource("18_p8abn")
autowrap_mode = 2

[node name="HBoxContainer" type="HBoxContainer" parent="CanvasLayer/EventScreen/TextureRect/MarginContainer/VBoxContainer"]
layout_mode = 2
size_flags_vertical = 3

[node name="EventDescriptionLabel" type="Label" parent="CanvasLayer/EventScreen/TextureRect/MarginContainer/VBoxContainer/HBoxContainer"]
unique_name_in_owner = true
layout_mode = 2
size_flags_horizontal = 3
size_flags_vertical = 6
text = "Certains bouchers viennent se plaindre, inquiets des rumeurs selon lesquelles ils n'auraient plus le droit d'abbatre leurs bêtes chez eux. Désormais ils devront utiliser les abbatoirs municipaux en périphérie de la ville. Leur mécontentement grandit, nourri par la peur de perdre leur travail"
label_settings = ExtResource("19_s17dp")
autowrap_mode = 2

[node name="EventTextureRect" type="TextureRect" parent="CanvasLayer/EventScreen/TextureRect/MarginContainer/VBoxContainer/HBoxContainer"]
unique_name_in_owner = true
layout_mode = 2
size_flags_horizontal = 3
texture = ExtResource("20_s17dp")
expand_mode = 1
stretch_mode = 5

[node name="EventChoiceButton1" type="TextureButton" parent="CanvasLayer/EventScreen/TextureRect/MarginContainer/VBoxContainer"]
unique_name_in_owner = true
visible = false
custom_minimum_size = Vector2(0, 80)
layout_mode = 2
size_flags_vertical = 3

[node name="NinePatchRect" type="NinePatchRect" parent="CanvasLayer/EventScreen/TextureRect/MarginContainer/VBoxContainer/EventChoiceButton1"]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
texture = ExtResource("9_ouso4")
patch_margin_left = 50
patch_margin_top = 70
patch_margin_right = 50
patch_margin_bottom = 70

[node name="MarginContainer" type="MarginContainer" parent="CanvasLayer/EventScreen/TextureRect/MarginContainer/VBoxContainer/EventChoiceButton1/NinePatchRect"]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
theme_override_constants/margin_left = 40
theme_override_constants/margin_top = 10
theme_override_constants/margin_right = 40
theme_override_constants/margin_bottom = 10

[node name="EventChoice1Label" type="Label" parent="CanvasLayer/EventScreen/TextureRect/MarginContainer/VBoxContainer/EventChoiceButton1/NinePatchRect/MarginContainer"]
unique_name_in_owner = true
layout_mode = 2
text = "Ce n'est pas à l'Etat de prendre en charge la pauvreté mais aux individus entre eux. Laissons les oeuvres de bienfaisance s'en occuper."
label_settings = ExtResource("19_s17dp")
autowrap_mode = 2

[node name="EventChoiceButton2" type="TextureButton" parent="CanvasLayer/EventScreen/TextureRect/MarginContainer/VBoxContainer"]
unique_name_in_owner = true
visible = false
custom_minimum_size = Vector2(0, 80)
layout_mode = 2
size_flags_vertical = 3

[node name="NinePatchRect" type="NinePatchRect" parent="CanvasLayer/EventScreen/TextureRect/MarginContainer/VBoxContainer/EventChoiceButton2"]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
texture = ExtResource("9_ouso4")
patch_margin_left = 50
patch_margin_top = 70
patch_margin_right = 50
patch_margin_bottom = 70

[node name="MarginContainer" type="MarginContainer" parent="CanvasLayer/EventScreen/TextureRect/MarginContainer/VBoxContainer/EventChoiceButton2/NinePatchRect"]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
theme_override_constants/margin_left = 40
theme_override_constants/margin_top = 10
theme_override_constants/margin_right = 40
theme_override_constants/margin_bottom = 10

[node name="EventChoice2Label" type="Label" parent="CanvasLayer/EventScreen/TextureRect/MarginContainer/VBoxContainer/EventChoiceButton2/NinePatchRect/MarginContainer"]
unique_name_in_owner = true
layout_mode = 2
text = "Nous devons effectivement régler cette vague de choléra dans nos rues, mais les dépenses seront revues au strict minimum."
label_settings = ExtResource("19_s17dp")
autowrap_mode = 2

[node name="FollowUpButton" type="TextureButton" parent="CanvasLayer/EventScreen/TextureRect/MarginContainer/VBoxContainer"]
unique_name_in_owner = true
custom_minimum_size = Vector2(0, 100)
layout_mode = 2

[node name="NinePatchRect" type="NinePatchRect" parent="CanvasLayer/EventScreen/TextureRect/MarginContainer/VBoxContainer/FollowUpButton"]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
texture = ExtResource("9_ouso4")
patch_margin_left = 50
patch_margin_top = 70
patch_margin_right = 50
patch_margin_bottom = 70

[node name="MarginContainer" type="MarginContainer" parent="CanvasLayer/EventScreen/TextureRect/MarginContainer/VBoxContainer/FollowUpButton/NinePatchRect"]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
theme_override_constants/margin_left = 40
theme_override_constants/margin_top = 10
theme_override_constants/margin_right = 40
theme_override_constants/margin_bottom = 10

[node name="FollowUpLabel" type="Label" parent="CanvasLayer/EventScreen/TextureRect/MarginContainer/VBoxContainer/FollowUpButton/NinePatchRect/MarginContainer"]
unique_name_in_owner = true
layout_mode = 2
text = "continuer"
label_settings = ExtResource("55_ae8n2")
autowrap_mode = 2

[node name="GameOver" type="Control" parent="CanvasLayer"]
layout_mode = 3
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
offset_left = 1.0
offset_right = 1.0
grow_horizontal = 2
grow_vertical = 2
mouse_filter = 2

[node name="PandemicEndingScreen" type="TextureRect" parent="CanvasLayer/GameOver"]
visible = false
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
texture = ExtResource("11_ouso4")
script = ExtResource("12_blune")

[node name="BackToTitleButton" type="Button" parent="CanvasLayer/GameOver/PandemicEndingScreen"]
layout_mode = 1
anchors_preset = 7
anchor_left = 0.5
anchor_top = 1.0
anchor_right = 0.5
anchor_bottom = 1.0
offset_left = -272.5
offset_top = -262.0
offset_right = 272.5
offset_bottom = -148.0
grow_horizontal = 2
grow_vertical = 0
theme = ExtResource("24_0bhws")
text = "Menu principal"

[node name="PandemicText" type="Label" parent="CanvasLayer/GameOver/PandemicEndingScreen"]
layout_mode = 0
offset_left = 299.0
offset_top = 164.0
offset_right = 1777.0
offset_bottom = 701.0
theme_override_colors/font_color = Color(0, 0, 0, 1)
theme_override_font_sizes/font_size = 41
text = "                                     Epidémie

La montée de l'épidémie de choléra n'a jamais pu être endiguée.
Lyon est sous quarantaine et les ouvriers manquent de soins et 
d'alternatives de vie qui les mettraient à l'abri.
Bientôt, l'épidémie se transmettrait à la presqu'île et atteindrait les classes
bourgeoises de la population.
 Il aura fallu une intervention de l'état et une mise sous quarantaine 
            de la ville pour endiguer l'infection, 2 ans plus tard."

[node name="InsurectionEndingScreen" type="TextureRect" parent="CanvasLayer/GameOver"]
visible = false
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
texture = ExtResource("27_gkmcc")
script = ExtResource("28_7nlll")

[node name="BackToTitleButton" type="Button" parent="CanvasLayer/GameOver/InsurectionEndingScreen"]
layout_mode = 1
anchors_preset = 7
anchor_left = 0.5
anchor_top = 1.0
anchor_right = 0.5
anchor_bottom = 1.0
offset_left = -272.5
offset_top = -227.0
offset_right = 272.5
offset_bottom = -113.0
grow_horizontal = 2
grow_vertical = 0
theme = ExtResource("24_0bhws")
text = "Menu principal"

[node name="InsurectionText" type="Label" parent="CanvasLayer/GameOver/InsurectionEndingScreen"]
layout_mode = 0
offset_left = 69.0
offset_top = 64.0
offset_right = 2846.0
offset_bottom = 1021.0
theme_override_colors/font_color = Color(0, 0, 0, 1)
theme_override_font_sizes/font_size = 41
text = "
                               Ignorer les besoins de sa force de travail principale  n'était, contre toute 
                               attente, pas une bonne idée. 

Malgré vos efforts pour moderniser la ville de Lyon, vous avez négligé l’importance de la 
condition ouvrière. Privilégier uniquement la ville sans considérer suffisament l’aspect 
humain a  créé une  rancune qui se transforme désormais en révolte. Alors 
que les foules déferlent sur la préfecture en chantant l'Internationale, vous 
avez la sensation pregnante d'assister à la fin d'une époque. 
Votre unique option est d’appeler Paris afin que l’armée française 
intervienne.
Mais tout cela est la conséquence de la déconnexion de l'état vis-à-vis de la 
situation ouvrière. Qu'aurait-on pu faire de mieux ?

"

[node name="VictoryScreen" type="TextureRect" parent="CanvasLayer/GameOver"]
visible = false
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
texture = ExtResource("50_o8kno")

[node name="BackToTitleButton" type="Button" parent="CanvasLayer/GameOver/VictoryScreen"]
layout_mode = 1
anchors_preset = 7
anchor_left = 0.5
anchor_top = 1.0
anchor_right = 0.5
anchor_bottom = 1.0
offset_left = -272.5
offset_top = -262.0
offset_right = 272.5
offset_bottom = -148.0
grow_horizontal = 2
grow_vertical = 0
theme = ExtResource("24_0bhws")
text = "Menu principal"

[node name="Label" type="Label" parent="CanvasLayer/GameOver/VictoryScreen"]
layout_mode = 0
offset_left = 842.0
offset_top = 43.0
offset_right = 6423.0
offset_bottom = 456.0
theme_override_colors/font_color = Color(0, 0, 0, 1)
theme_override_font_sizes/font_size = 35
text = "Vous venez de quitter le XIXᵉ siècle et d’entrer fièrement dans
 le XXᵉ. Bien que la ville ne soit pas encore parfaite, elle reste 
  l’une des rares en France à avoir réussi à mettre en place une 
véritable politique hygiéniste. Ainsi, en 1907, la ville de Lyon 
  expose ses travaux dans une Exposition Internationale dont
       le retentissement influencera les politiques sanitaires
         du monde entier, retransmise dans tout le pays par
                        la nouvelle tour radio"

[node name="TitleScreen" type="Control" parent="CanvasLayer"]
unique_name_in_owner = true
visible = false
layout_mode = 3
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
offset_top = 2.0
offset_bottom = 2.0
grow_horizontal = 2
grow_vertical = 2
script = ExtResource("47_jucdw")

[node name="BGTextureRect" type="TextureRect" parent="CanvasLayer/TitleScreen"]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
texture = ExtResource("22_37hlw")

[node name="TitleTextureRect" type="TextureRect" parent="CanvasLayer/TitleScreen/BGTextureRect"]
layout_mode = 0
offset_left = 616.0
offset_top = 74.0
offset_right = 1431.0
offset_bottom = 299.0
texture = ExtResource("23_6llfj")

[node name="OptionsMenu" type="Control" parent="CanvasLayer/TitleScreen/BGTextureRect"]
unique_name_in_owner = true
layout_mode = 1
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -349.0
offset_top = -203.5
offset_right = 349.0
offset_bottom = 203.5
grow_horizontal = 2
grow_vertical = 2

[node name="BGTextureRect" type="TextureRect" parent="CanvasLayer/TitleScreen/BGTextureRect/OptionsMenu"]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
texture = ExtResource("50_6miv3")
expand_mode = 1
stretch_mode = 5

[node name="MarginContainer" type="MarginContainer" parent="CanvasLayer/TitleScreen/BGTextureRect/OptionsMenu/BGTextureRect"]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
theme_override_constants/margin_left = 40
theme_override_constants/margin_top = 100
theme_override_constants/margin_right = 40
theme_override_constants/margin_bottom = 40

[node name="VBoxContainer" type="VBoxContainer" parent="CanvasLayer/TitleScreen/BGTextureRect/OptionsMenu/BGTextureRect/MarginContainer"]
layout_mode = 2

[node name="HBoxContainer" type="HBoxContainer" parent="CanvasLayer/TitleScreen/BGTextureRect/OptionsMenu/BGTextureRect/MarginContainer/VBoxContainer"]
layout_mode = 2
alignment = 1

[node name="HelpLabel" type="Label" parent="CanvasLayer/TitleScreen/BGTextureRect/OptionsMenu/BGTextureRect/MarginContainer/VBoxContainer/HBoxContainer"]
layout_mode = 2
text = "Activer l'aide à la décision"
label_settings = ExtResource("51_yisfj")

[node name="OptionButton" type="CheckButton" parent="CanvasLayer/TitleScreen/BGTextureRect/OptionsMenu/BGTextureRect/MarginContainer/VBoxContainer/HBoxContainer"]
layout_mode = 2

[node name="CloseOptionsButton" type="Button" parent="CanvasLayer/TitleScreen/BGTextureRect/OptionsMenu/BGTextureRect/MarginContainer"]
custom_minimum_size = Vector2(200, 80)
layout_mode = 2
size_flags_horizontal = 4
size_flags_vertical = 8
theme = ExtResource("24_0bhws")
text = "Fermer"

[node name="CreditsMenu" type="Control" parent="CanvasLayer/TitleScreen/BGTextureRect"]
unique_name_in_owner = true
layout_mode = 1
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -349.0
offset_top = -204.0
offset_right = 349.0
offset_bottom = 204.0
grow_horizontal = 2
grow_vertical = 2

[node name="BGTextureRect" type="TextureRect" parent="CanvasLayer/TitleScreen/BGTextureRect/CreditsMenu"]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
texture = ExtResource("50_6miv3")
expand_mode = 1
stretch_mode = 5

[node name="MarginContainer" type="MarginContainer" parent="CanvasLayer/TitleScreen/BGTextureRect/CreditsMenu/BGTextureRect"]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
theme_override_constants/margin_left = 40
theme_override_constants/margin_top = 40
theme_override_constants/margin_right = 40
theme_override_constants/margin_bottom = 40

[node name="VBoxContainer" type="VBoxContainer" parent="CanvasLayer/TitleScreen/BGTextureRect/CreditsMenu/BGTextureRect/MarginContainer"]
layout_mode = 2
theme_override_constants/separation = 20

[node name="TitleLabel" type="Label" parent="CanvasLayer/TitleScreen/BGTextureRect/CreditsMenu/BGTextureRect/MarginContainer/VBoxContainer"]
layout_mode = 2
text = "CREDITS"
label_settings = ExtResource("51_yisfj")
horizontal_alignment = 1

[node name="CreditsLabel" type="Label" parent="CanvasLayer/TitleScreen/BGTextureRect/CreditsMenu/BGTextureRect/MarginContainer/VBoxContainer"]
layout_mode = 2
text = "Professeure : Laetitia
Game design : Wilson
Artistes : Anne-Laure, Julie
Sound design : Sebastien
Développement : Charlie, Ghislain"
label_settings = ExtResource("51_yisfj")
horizontal_alignment = 1
autowrap_mode = 2

[node name="CloseOptionsButton" type="Button" parent="CanvasLayer/TitleScreen/BGTextureRect/CreditsMenu/BGTextureRect/MarginContainer/VBoxContainer"]
custom_minimum_size = Vector2(200, 80)
layout_mode = 2
size_flags_horizontal = 4
size_flags_vertical = 8
theme = ExtResource("24_0bhws")
text = "Fermer"

[node name="StartMenu" type="Control" parent="CanvasLayer/TitleScreen/BGTextureRect"]
unique_name_in_owner = true
visible = false
layout_mode = 1
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -252.0
offset_top = -164.0
offset_right = 252.0
offset_bottom = 164.0
grow_horizontal = 2
grow_vertical = 2

[node name="VBoxContainer" type="VBoxContainer" parent="CanvasLayer/TitleScreen/BGTextureRect/StartMenu"]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
offset_bottom = 97.0
grow_horizontal = 2
grow_vertical = 2
theme_override_constants/separation = 20

[node name="StartButton" type="Button" parent="CanvasLayer/TitleScreen/BGTextureRect/StartMenu/VBoxContainer"]
custom_minimum_size = Vector2(0, 80)
layout_mode = 2
size_flags_vertical = 4
theme = ExtResource("24_0bhws")
text = "Nouvelle partie"

[node name="CreditsButton" type="Button" parent="CanvasLayer/TitleScreen/BGTextureRect/StartMenu/VBoxContainer"]
custom_minimum_size = Vector2(0, 80)
layout_mode = 2
size_flags_vertical = 4
theme = ExtResource("24_0bhws")
text = "Crédits"

[node name="OptionsButton" type="Button" parent="CanvasLayer/TitleScreen/BGTextureRect/StartMenu/VBoxContainer"]
custom_minimum_size = Vector2(0, 80)
layout_mode = 2
size_flags_vertical = 4
theme = ExtResource("24_0bhws")
text = "Options"

[node name="YearCounter" type="Label" parent="CanvasLayer"]
visible = false
offset_right = 40.0
offset_bottom = 23.0
script = ExtResource("8_yyfjg")

[node name="TutorialScreen" type="TextureRect" parent="CanvasLayer"]
offset_right = 40.0
offset_bottom = 40.0
texture = ExtResource("17_m4h2d")

[node name="Label" type="Label" parent="CanvasLayer/TutorialScreen"]
layout_mode = 0
offset_left = 69.0
offset_top = 80.0
offset_right = 3952.0
offset_bottom = 1017.0
mouse_filter = 0
theme_override_colors/font_color = Color(0, 0, 0, 1)
theme_override_font_sizes/font_size = 30
text = "
Félicitations pour votre nomination monsieur/madame le préfet
Votre réputation vous précède, je vous prédis une longue carrière
dans le Rhône! A moins que….
Sachez-le, la ville de Lyon est en grandes difficultés. Les 
scientifiques travaillent beaucoup sur les bactéries et nous ont fait
comprendre qu’elles peuvent circuler facilement. L’état des rues 
de France laisse à croire que nous risquons une contamination 
massive. 
Surtout qu'avec le progrès qui se développe dans la ville, nous 
vivons une vraie Révolution industrielle. Des paysans affluent 
dans la ville et n’avons pas de quoi faire face à toute cette 
nouvelle population. De plus, la pauvreté est fortement présente.

Mettez-vous à l’écart des grandes évolutions nationales et donnez
une orientation politique à la ville. Les lyonnais et lyonnaises
comptent sur vous !  Transformer cette ville et faites en LA ville
moderne et saine du XIXème siècle! 
"

[node name="HideTutoButton" type="Button" parent="CanvasLayer/TutorialScreen"]
layout_mode = 0
offset_left = 691.0
offset_top = 901.0
offset_right = 910.0
offset_bottom = 968.0
theme = ExtResource("24_0bhws")
text = "Compris !"

[connection signal="finished" from="MusicManager/AudioStreamPlayer" to="MusicManager" method="_on_audio_stream_player_finished"]
[connection signal="pressed" from="CanvasLayer/EventScreen/TextureRect/MarginContainer/VBoxContainer/EventChoiceButton1" to="CanvasLayer/EventScreen" method="_on_event_choice_button_1_pressed"]
[connection signal="pressed" from="CanvasLayer/EventScreen/TextureRect/MarginContainer/VBoxContainer/EventChoiceButton2" to="CanvasLayer/EventScreen" method="_on_event_choice_button_2_pressed"]
[connection signal="pressed" from="CanvasLayer/EventScreen/TextureRect/MarginContainer/VBoxContainer/FollowUpButton" to="CanvasLayer/EventScreen" method="_on_follow_up_button_pressed"]
[connection signal="pressed" from="CanvasLayer/GameOver/PandemicEndingScreen/BackToTitleButton" to="." method="_on_back_to_title_button_pressed"]
[connection signal="pressed" from="CanvasLayer/GameOver/InsurectionEndingScreen/BackToTitleButton" to="." method="_on_back_to_title_button_pressed"]
[connection signal="pressed" from="CanvasLayer/GameOver/VictoryScreen/BackToTitleButton" to="." method="_on_back_to_title_button_pressed"]
[connection signal="toggled" from="CanvasLayer/TitleScreen/BGTextureRect/OptionsMenu/BGTextureRect/MarginContainer/VBoxContainer/HBoxContainer/OptionButton" to="." method="_on_option_button_toggled"]
[connection signal="pressed" from="CanvasLayer/TitleScreen/BGTextureRect/OptionsMenu/BGTextureRect/MarginContainer/CloseOptionsButton" to="CanvasLayer/TitleScreen" method="_on_close_options_button_pressed"]
[connection signal="pressed" from="CanvasLayer/TitleScreen/BGTextureRect/CreditsMenu/BGTextureRect/MarginContainer/VBoxContainer/CloseOptionsButton" to="CanvasLayer/TitleScreen" method="_on_close_options_button_pressed"]
[connection signal="pressed" from="CanvasLayer/TitleScreen/BGTextureRect/StartMenu/VBoxContainer/StartButton" to="." method="_on_start_button_pressed"]
[connection signal="pressed" from="CanvasLayer/TitleScreen/BGTextureRect/StartMenu/VBoxContainer/CreditsButton" to="CanvasLayer/TitleScreen" method="_on_credits_button_pressed"]
[connection signal="pressed" from="CanvasLayer/TitleScreen/BGTextureRect/StartMenu/VBoxContainer/OptionsButton" to="CanvasLayer/TitleScreen" method="_on_options_button_pressed"]
[connection signal="pressed" from="CanvasLayer/TutorialScreen/HideTutoButton" to="." method="_on_hide_tuto_button_pressed"]

[editable path="Environment/District1"]
[editable path="Environment/District2"]
[editable path="Environment/District3"]
[editable path="Environment/District4"]
